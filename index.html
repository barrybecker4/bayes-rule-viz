<html>
    <head>
        <title>Disease Testing</title>
        <script src="lib/jquery-1.12.4.min.js"></script>
        <script src="lib/jquery-ui-1.11.4.min.js"></script>
        <script src="lib/d3.min.js"></script>
        <script src="lib/sankey.js"></script>

        <script src="js/disease.js"></script>
        <script src="js/sankeyView.js"></script>
        <script src="js/vennDiagramView.js"></script>
        <script src="js/bayesRuleView.js"></script>

        <link rel="stylesheet" type="text/css" href="lib/jquery-ui-1.11.4.min.css">
        <link rel="stylesheet" type="text/css" href="css/styles.css">
        <link rel="stylesheet" type="text/css" href="css/bayesRule.css">
        <link rel="stylesheet" type="text/css" href="css/sankey.css">
        <link rel="stylesheet" type="text/css" href="css/vennDiagram.css">
        <link rel="stylesheet" type="text/css" href="css/slider.css">

        <meta charset="UTF-8">
        <meta name="description" content="Visualization of Baye's rule using disease testing context">
        <meta name="keywords" content="bayes rule, disease testing, d3, visualization">
        <meta name="author" content="Barry G Becker">
    </head>

    <body onload="disease.init(10000000)">
        <h1>Disease Testing Visualization</h1>
        <p>Suppose your doctor tests you for a terrible disease, and the results are
            <span class="positive">positive</span>!
            How worried should you be?
            <a href="https://en.wikipedia.org/wiki/Bayes%27_theorem">Bayes' theorem</a>,
            can be used to answer this question.
        </p>

        <p>Suppose the total population is <span id="total-population"></span> people.
            Let <span class="diseased">D</span> = <span class="diseased">Diseased</span>
            and <span class="healthy">H</span> = <span class="healthy">Healthy</span>.</p>

        <div class="inputs">
            <span class="input-line">The incidence of the disease in the population is
                <span id="probability-diseased"></span>%
                <span id="probability-diseased-slider" class="slider"></span>
            </span>
            <div class="input-line">The disease testing accuracy is <span id="test-accuracy"></span>%
                <div id="test-accuracy-slider" class="slider"></div>
            </div>
        </div>
        <div id="bayes-rule-view"></div>
        <div id="venn-diagram-view"></div>
        <div id="sankey-view"></div>
        <div id="notes">
            <ul>
                <li>p(<span class="diseased">D</span> | <span class="positive">positive</span>)
                    means the probability of having the disease given that you have tested positive.
                    This is the notation for representing a conditional probability.
                </li>
                <li>p(<span class="positive">positive</span> | <span class="diseased">D</span>) =
                    p(<span class="negative">negative</span> | <span class="healthy">H</span>)
                    = <span id="accurracy-fn">test accuracy, by definition.</span>
                </li>
                <li>p(<span class="positive">positive</span>) is the total number of people that test positive
                    (<span id="num-positive"></span>) divided by the total population (<span id="num-population"></span>)
                    = <span id="prob-positive"></span></li>
            </ul>
        </div>
    </body>
</html>